# Carian Observatory AI Infrastructure Platform Environment Configuration
# Copy this file to .env and customize the values for your setup

# =============================================================================
# CONTAINER PREFIX FOR CARIAN OBSERVATORY PLATFORM
# =============================================================================
# Prefix all container names with co for consistent branding
USER_PREFIX=co

# =============================================================================
# PROJECT NAMING
# =============================================================================
# Docker Compose project name (affects network and volume naming)
COMPOSE_PROJECT_NAME=carian-observatory

# =============================================================================
# DOCKER IMAGE TAGS
# =============================================================================
OLLAMA_DOCKER_TAG=latest
WEBUI_DOCKER_TAG=main
WEBUI_VERSION=v0.6.26

# =============================================================================
# OPEN-WEBUI CONFIGURATION
# =============================================================================
# Secret key for Open-WebUI (generate a random string)
WEBUI_SECRET_KEY=your-secret-key-here

# =============================================================================
# API KEYS (Securely retrieved from 1Password at runtime)
# =============================================================================
# OpenAI API Configuration
OPENAI_API_BASE_URL=https://api.openai.com/v1
OPENAI_API_KEY={{ op://AI Infrastructure Config/OpenAI API Key/credential }}

# ElevenLabs TTS
ELEVENLABS_API_KEY={{ op://AI Infrastructure Config/ElevenLabs API Key/credential }}

# Perplexity AI
PERPLEXITY_API_KEY={{ op://AI Infrastructure Config/Perplexity API Key/credential }}

# Anthropic Claude
CLAUDE_API_KEY={{ op://AI Infrastructure Config/Claude API Key/credential }}

# OpenRouter (recommended for multiple model access)
ENABLE_OPENROUTER_API=true
OPENROUTER_API_KEY={{ op://AI Infrastructure Config/OpenRouter API Key/credential }}
OPENROUTER_API_BASE_URL=https://openrouter.ai/api/v1

# =============================================================================
# PRIVACY & TELEMETRY
# =============================================================================
SCARF_NO_ANALYTICS=true
DO_NOT_TRACK=true
ANONYMIZED_TELEMETRY=false

# =============================================================================
# MACHINE IDENTIFICATION (Auto-detected, but can be overridden)
# =============================================================================
# Uncomment and set if you want to override auto-detection
# MACHINE_TYPE=mini  # Options: mini, m4, m2

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================
# Production domain settings
PRODUCTION_DOMAIN=yourdomain.com
PRODUCTION_SUBDOMAIN_SEPARATOR=.

# Canary/testing domain settings
CANARY_DOMAIN=test.yourdomain.com
CANARY_SUBDOMAIN_SEPARATOR=.

# Service subdomains (combined with domain above)
WEBUI_SUBDOMAIN=webui
PERPLEXICA_SUBDOMAIN=perplexica
SEARXNG_SUBDOMAIN=search
AUTH_SUBDOMAIN=auth

# Machine identifier (optional - for multi-machine setups)
# MACHINE_ID=m1
# WEBUI_DOMAIN=${WEBUI_SUBDOMAIN}${MACHINE_ID:+-$MACHINE_ID}.${PRODUCTION_DOMAIN}

# =============================================================================
# SERVICE PORTS
# =============================================================================
# Production service ports
WEBUI_PORT=8080
PERPLEXICA_PORT=3000
SEARXNG_PORT=8080
AUTHELIA_PORT=9091

# Canary service ports (different to avoid conflicts)
CANARY_WEBUI_PORT=8081
CANARY_PERPLEXICA_PORT=3001
CANARY_SEARXNG_PORT=8082
CANARY_AUTHELIA_PORT=9092

# =============================================================================
# AUTHENTICATION SECRETS
# =============================================================================
# Generate with: openssl rand -hex 32
AUTHELIA_SESSION_SECRET=a9f8e7d6c5b4a3928f7e6d5c4b3a29180f7e6d5c4b3a29180f7e6d5c4b3a2918
AUTHELIA_STORAGE_ENCRYPTION_KEY=b8e7f6d5c4a3b2918f7e6d5c4b3a29180f7e6d5c4b3a29180f7e6d5c4b3a2918

# Canary authentication secrets
CANARY_SESSION_SECRET=change_me_to_random_32_char_string_canary
CANARY_STORAGE_ENCRYPTION_KEY=change_me_to_random_32_char_string_canary

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================
# Docker network subnets
PRODUCTION_NETWORK_SUBNET=172.25.0.0/16
CANARY_NETWORK_SUBNET=172.26.0.0/16

# Ollama connection
OLLAMA_HOST=host.docker.internal
OLLAMA_PORT=11434
OLLAMA_BASE_URL=http://${OLLAMA_HOST}:${OLLAMA_PORT}

# =============================================================================
# DEVELOPMENT OPTIONS
# =============================================================================
# Set to true for development/debugging
DEBUG_MODE=false

# Resource limits (uncomment for lower-spec machines like MBA)
# OLLAMA_MEMORY_LIMIT=8g
# WEBUI_MEMORY_LIMIT=2g
# PERPLEXICA_MEMORY_LIMIT=2g
